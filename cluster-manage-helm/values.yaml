
argo-cd:
  global:
    domain: argocd.deifops.click
  configs:
    params:
      server.insecure: "true"
  server:
    service:
      type: NodePort
      servicePortHttp: 80
      targetPort: 8080
      servicePortHttpName: http
    ingress:
      enabled: true
      controller: aws
      ingressClassName: alb
      path: /
      pathType: Prefix
      annotations:
        alb.ingress.kubernetes.io/scheme: internet-facing
        alb.ingress.kubernetes.io/target-type: ip
        alb.ingress.kubernetes.io/backend-protocol: HTTP
        alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80}, {"HTTPS":443}]'
        alb.ingress.kubernetes.io/ssl-redirect: 443
        external-dns.alpha.kubernetes.io/ttl: "60"
        external-dns.alpha.kubernetes.io/ingress-hostname-source: defined-hosts-only
      aws:
        serviceType: ClusterIP # <- Used with target-type: ip
        backendProtocolVersion: GRPC
